{"ast":null,"code":"import _classCallCheck from \"/home/emmanuel/Documents/go/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/emmanuel/Documents/go/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/emmanuel/Documents/go/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/emmanuel/Documents/go/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/emmanuel/Documents/go/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/emmanuel/Documents/go/src/components/homepage/HomePage.js\";\nimport React, { Component } from 'react';\nimport Logo from '../logo/Logo';\nimport ServerProfile from '../serverprofile/ServerProfile';\nimport AppModal from '../modal/AppModal';\nimport Scroll from '../Scroll';\nimport './HomePage.css';\n\nvar HomePage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HomePage, _Component);\n\n  function HomePage(props) {\n    var _this;\n\n    _classCallCheck(this, HomePage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(HomePage).call(this, props));\n\n    _this.onNameChange = function (e) {\n      _this.setState({\n        addTurn: e.target.value\n      });\n\n      console.log(_this.state.addTurn);\n    };\n\n    _this.onShowBtn = function (e) {\n      _this.setState({\n        showBtn: true,\n        toDelete: e.target.outerText,\n        index: e.target.id\n      });\n\n      console.log(_this.state.toDelete);\n    };\n\n    _this.onDeleteHandler = function (e) {\n      if (!_this.state.toDeleteTurn) {\n        var newturn = _this.state.newturn.map(function (name, i) {\n          return name.name;\n        });\n\n        if (!newturn.includes(_this.state.addTurn)) {\n          fetch('http://localhost:3001/deleteturns', {\n            method: 'post',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              toDeleteTurn: _this.state.toDelete\n            })\n          }).then(function (res) {\n            return res.json();\n          }).then(function (data) {\n            _this.setState({\n              turns: data\n            });\n\n            _this.setState({\n              infoWanted: []\n            });\n\n            console.log(data);\n          });\n        }\n      } else {\n        console.log('nothing to delete');\n      }\n    };\n\n    _this.onTurnChange = function (e) {\n      _this.setState({\n        addTurn: e.target.value\n      });\n\n      console.log(_this.state.addTurn);\n    };\n\n    _this.onAddTurns = function () {\n      if (_this.state.addTurn && _this.state.tab) {\n        fetch('http://localhost:3001/addturns', {\n          method: 'post',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            turn: _this.state.addTurn,\n            barber: _this.state.tab\n          })\n        }).then(function (res) {\n          return res.json();\n        }).then(function (newturn) {\n          console.log(_this.state.tab);\n\n          _this.setState({\n            turns: newturn\n          });\n\n          console.log(newturn);\n        });\n      } else {\n        console.log('no data');\n      }\n    };\n\n    _this.onTabChange = function (e) {\n      _this.setState({\n        tab: e.target.outerText\n      });\n    };\n\n    _this.state = {\n      turns: [],\n      showBtn: false,\n      toDelete: '',\n      index: '',\n      addTurn: '',\n      infoWanted: [],\n      newturn: '',\n      tab: 'emma'\n    };\n    return _this;\n  }\n\n  _createClass(HomePage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:3001/turns', {\n        method: 'get',\n        Headers: {\n          \"Content-Type\": \"aplication/json\"\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (turns) {\n        _this2.setState({\n          turns: turns\n        });\n      });\n      fetch('http://localhost:3001/infoWanted/infosend').then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this2.setState({\n          infoWanted: data\n        });\n\n        console.log(data);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var wanted = this.state.infoWanted.map(function (wanted, i) {\n        if (_this3.state.toDelete === wanted.userinfo) {\n          return React.createElement(\"div\", {\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            key: 1,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }, wanted.userinfo), React.createElement(\"div\", {\n            key: 2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120\n            },\n            __self: this\n          }, wanted.typeinfo), React.createElement(\"div\", {\n            key: 3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121\n            },\n            __self: this\n          }, wanted.beinginfo), React.createElement(\"div\", {\n            key: 4,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 122\n            },\n            __self: this\n          }, wanted.vipinfo));\n        }\n      });\n      var turns = this.state.turns;\n      var onDeleteHandler = this.onDeleteHandler;\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"profile-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(ServerProfile, {\n        info: this.props.info,\n        tab: this.state.tab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        onRouteChange: this.props.onRouteChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"coments\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"addturns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(AppModal, {\n        info: this.props.info,\n        onNameChange: this.onNameChange,\n        onAddTurns: this.onAddTurns,\n        onGetModalData: this.onGetModalData,\n        onDeleteHandler: this.onDeleteHandler,\n        turns: this.state.turns,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"toshow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, wanted)), React.createElement(\"div\", {\n        className: \"turns-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"tab-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, this.props.worker.map(function (worker, i) {\n        return React.createElement(\"div\", {\n          onClick: _this3.onTabChange,\n          className: _this3.state.tab === worker.name ? 'tab-selected' : 'tab',\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, worker.name);\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(Scroll, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"turns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, turns.map(function (turn, i) {\n        if (turn.barber === _this3.state.tab) {\n          return React.createElement(\"div\", {\n            className: \"turn\",\n            key: i,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: _this3.state.toDelete === turn.name ? 'selected-turn' : 'turn',\n            id: i,\n            onClick: _this3.onShowBtn,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174\n            },\n            __self: this\n          }, turn.name));\n        }\n      })))), React.createElement(\"div\", {\n        className: \"none\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"myButton\",\n        onClick: function onClick() {\n          return onDeleteHandler(turns);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, \"...\"), React.createElement(\"button\", {\n        className: \"myButton-2\",\n        onClick: function onClick() {\n          return onDeleteHandler(turns);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, \"...\")))));\n    }\n  }]);\n\n  return HomePage;\n}(Component);\n\nexport default HomePage;","map":{"version":3,"sources":["/home/emmanuel/Documents/go/src/components/homepage/HomePage.js"],"names":["React","Component","Logo","ServerProfile","AppModal","Scroll","HomePage","props","onNameChange","e","setState","addTurn","target","value","console","log","state","onShowBtn","showBtn","toDelete","outerText","index","id","onDeleteHandler","toDeleteTurn","newturn","map","name","i","includes","fetch","method","headers","body","JSON","stringify","then","res","json","data","turns","infoWanted","onTurnChange","onAddTurns","tab","turn","barber","onTabChange","Headers","wanted","userinfo","typeinfo","beinginfo","vipinfo","info","onRouteChange","onGetModalData","worker"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Logo from '../logo/Logo'\nimport ServerProfile from '../serverprofile/ServerProfile';\nimport AppModal from '../modal/AppModal'\nimport Scroll from '../Scroll'\nimport './HomePage.css'\n\n\n\n\nclass HomePage extends Component {\n\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\t\tturns: [],\n\t\t\t\tshowBtn: false,\n\t\t\t\ttoDelete: '',\n\t\t\t\tindex:'',\n\t\t\t\taddTurn: '',\n        infoWanted: [],\n        newturn: '',\n        tab: 'emma',\n\n\t\t}\n\t}\n\n  componentDidMount(){\n\n    fetch('http://localhost:3001/turns' , {\n        method: 'get',\n        Headers: {\"Content-Type\" : \"aplication/json\"}\n      }).then(res => res.json()).then(turns =>{\n        this.setState({turns: turns})\n      });\n\n\n    fetch('http://localhost:3001/infoWanted/infosend')\n    .then(res => res.json())\n    .then(data => {\n      this.setState({infoWanted: data})\n      console.log(data)})\n  }\n  onNameChange = (e) =>{\n    this.setState({addTurn: e.target.value})\n    console.log(this.state.addTurn)\n\n  }\n\n\n\n   onShowBtn = (e) =>{\n   \t this.setState({showBtn:true, toDelete: e.target.outerText, index: e.target.id});\n     console.log(this.state.toDelete)\n   }\n\n   onDeleteHandler = (e) => {\n       \n      if(!this.state.toDeleteTurn){\n       const newturn = this.state.newturn.map((name, i) =>{\n          return name.name\n        })\n       if(!newturn.includes(this.state.addTurn) ){fetch('http://localhost:3001/deleteturns', {\n        method: 'post',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n          toDeleteTurn: this.state.toDelete\n        })\n       }).then(res => res.json())\n         .then(data =>{\n          this.setState({turns: data})\n          this.setState({infoWanted: []})\n          console.log(data)})}\n\n     }else{\n      console.log('nothing to delete');\n     }\n\n   }\n\n   onTurnChange = (e) =>{this.setState({addTurn: e.target.value}) \n   console.log(this.state.addTurn)\n}\n\n   \n   onAddTurns = () =>{\n    if(this.state.addTurn && this.state.tab){\n   \tfetch('http://localhost:3001/addturns', {\n   \t\tmethod : 'post',\n   \t\theaders : {'Content-Type': 'application/json'},\n   \t\tbody : JSON.stringify({\n         turn : this.state.addTurn,\n         barber: this.state.tab\n   \t\t})\n   \t}).then(res => res.json())\n   \t  .then(newturn => {     console.log(this.state.tab)\n\n   \t  \tthis.setState({turns: newturn})\n        console.log(newturn);\n      });\n    }else{\n      console.log('no data');\n    }\n\n   }\n \n\n   onTabChange = (e) =>{\n     this.setState({tab:e.target.outerText})\n   }\n\n\n    render()\n    { \n      const wanted = this.state.infoWanted.map((wanted, i) =>{\n                         if(this.state.toDelete === wanted.userinfo){\n                                return (\n                                  <div key= {i}>\n                                      <div key ={1}>{wanted.userinfo}</div>\n                                      <div key ={2}>{wanted.typeinfo}</div>\n                                      <div key ={3}>{wanted.beinginfo}</div>\n                                      <div key ={4}>{wanted.vipinfo}</div>\n                                  </div>\n                                  );\n                                 }\n                     })\n\n    \tconst turns = this.state.turns;\n    \tconst { onDeleteHandler } = this;\n    \t\treturn(\n    \t\n    \t<div className = 'container'>\n    \t\t   <div className = 'nav'>\n    \t\t      <div className = 'profile'>\n    \t\t      <div className = 'profile-box'>\n    \t\t      <ServerProfile info = {this.props.info}  tab ={this.state.tab}/>\n    \t\t      </div>\n    \t\t   </div>\n    \t\t   <div className = 'logo'>\n    \t\t      <Logo onRouteChange = {this.props.onRouteChange} />\n    \t\t   </div>\n\t\t       </div>\n\t\t<div className = 'home'>\n        \n\t\t\t\t<div className = 'coments'>\n                 <div className = 'addturns'>\n                      \n                      <AppModal \n                      info = {this.props.info} \n                      onNameChange = {this.onNameChange} \n                      onAddTurns = {this.onAddTurns} \n                      onGetModalData = {this.onGetModalData}\n                      onDeleteHandler ={this.onDeleteHandler}\n                      turns ={this.state.turns}\n                       />\n                 </div>    \n                     <div className = 'toshow'>\n                       {wanted}\n                     </div>\n\t\t\t\t</div>\t\n\t\t\t\n\t\t\t\t<div className = 'turns-container'>\n        <div className = 'tab-box'>\n               {this.props.worker.map((worker, i) =>{\n                 return <div onClick = {this.onTabChange} className = {this.state.tab === worker.name ? 'tab-selected': 'tab'} key ={i}>{worker.name}</div>\n               })}\n        </div>\n          <div> \n            <Scroll> \n                <div className = 'turns'>\n                    { turns.map((turn,i)  =>\n                      {if(turn.barber === this.state.tab)\n                        { return (<div  className = 'turn' key = {i}>\n                          <div \n                          className = {this.state.toDelete === turn.name ? 'selected-turn' : 'turn'}\n                          id = {i} \n                          onClick = {this.onShowBtn}>\n                          {turn.name}\n                          </div>\n                      </div>)\n                        }\n                      })\n                           \n                      }\n                    </div>  \n            </Scroll>\n         </div>               \n\t\t        <div className = 'none'>\n                             <button className = 'myButton' onClick = {() => onDeleteHandler(turns)}>...</button>  \n                             <button className = 'myButton-2' onClick = {() => onDeleteHandler(turns)}>...</button>  \n             </div>\n\n\n\n           \n\t\t\t\t</div>\n\t\t\t\t\n\t    </div>\n     </div>\n\n\n\t\t);\n    }\n\n\n\n\n}\n\nexport default HomePage;\n\n\n"]},"metadata":{},"sourceType":"module"}